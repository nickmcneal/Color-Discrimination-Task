<!DOCTYPE html>
<html>
<head>
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych/plugins/jquery-3.5.1.min.js"></script>
    <script src="jspsych/plugins/jspsych-canvas-keyboard-response.js"></script>
    <script src="jspsych/plugins/jspsych-html-keyboard-response.js"></script>
    <link rel="stylesheet" href="css/jspsych.css">
</head>
<body></body>
<script>

    const fixation_duration = 500;
    var fixation = {
        type: 'html-keyboard-response',
        stimulus: '<div style="font-size:60px;">+</div>',
        choices: jsPsych.NO_KEYS,
        trial_duration: fixation_duration,
    };


    var colors = ["DarkBlue", "MediumBlue", "Teal", "Green", "Yellow", "Orange", "PeachPuff", "Pink"]
    if(Math.random()>.5){
     colors.reverse();
     console.log("Array reversed.")
    }


    var timeline = [];

    function drawRectL(c){
        var ctx = c.getContext('2d');
        ctx.beginPath(); 

        var a = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[a];
        ctx.fillRect(0, 0, 100, 100);

        var b = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[b];
        ctx.fillRect(150, 0, 100, 100);
       
        var c = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[c];
        ctx.fillRect(300, 0, 100, 100);
        
        var d = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[d];
        ctx.fillRect(0, 150, 100, 100);
        
        var e = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[e]; 
        ctx.fillRect(150, 150, 100, 100);
        
        var f = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[f];
        ctx.fillRect(300, 150, 100, 100);

        var arr_L = [a, b, c, d, e, f]
        for(var i = 0; i < arr_L.length; ++i){
            var j = 0;
            j += (arr_L[i] - 4); 
        }
        console.log("arr_L :" + j)

    }

    function drawRectR(d){
        var ctx = d.getContext('2d');
        ctx.beginPath();
        
        var g = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[g];
        ctx.fillRect(0, 0, 100, 100);

        var h = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[h];
        ctx.fillRect(150, 0, 100, 100);
        
        var i = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[i];
        ctx.fillRect(300, 0, 100, 100);

        var j = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[j];
        ctx.fillRect(0, 150, 100, 100);

        var k = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[k];
        ctx.fillRect(150, 150, 100, 100);

        var l = Math.floor(Math.random()*8);
        ctx.fillStyle = colors[l];
        ctx.fillRect(300, 150, 100, 100);

        var arr_R = [g, h, i, j, k, l]
        for(var z = 0; i < arr_R.length; ++i){
            var w = 0;
            w += (arr_R[i] - 4); 
        }
        console.log("arr_R :" + w)
    }

    var trial_1 = {
        type: 'canvas-keyboard-response',
        stimulus_L: drawRectL,
        stimulus_R: drawRectR,
        choices: ['f','j'],
        //data: {shape: 'rectangle'}
    };
    
    timeline.push(trial_1, fixation);


    var trial_2 = {
        type: 'canvas-keyboard-response',
        stimulus_L: drawRectL,
        stimulus_R: drawRectR,
        choices: ['f','j'],
        //data: {shape: 'rectangle'}
    };
    
    timeline.push(trial_2, fixation);

    var trial_3 = {
        type: 'canvas-keyboard-response',
        stimulus_L: drawRectL,
        stimulus_R: drawRectR,
        choices: ['f','j'],
        //data: {shape: 'rectangle'}
    };
    
    timeline.push(trial_3);
    

    jsPsych.init({
        timeline,
        on_finish: function () { 
            jsPsych.data.displayData(); 
        }
    });
</script>
</html>
